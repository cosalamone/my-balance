<mat-form-field [appearance]="config.appearance || 'outline'" class="w-full">
  <textarea
    matInput
    [placeholder]="config.placeholder + (config.required ? '*' : '')"
    [maxLength]="config.maxLength"
    [rows]="config.rows || 3"
    [value]="value"
    (input)="onInput($event)"
    (blur)="onTouched()"
    [disabled]="disabled"
    [cdkTextareaAutosize]="config.autoResize"
    class="text-lg"></textarea>

  <!-- Prefix text -->
  <span *ngIf="config.prefixText" matTextPrefix>{{ config.prefixText }}&nbsp;</span>

  <!-- Suffix text -->
  <span *ngIf="config.suffixText" matTextSuffix>&nbsp;{{ config.suffixText }}</span>

  <!-- Icons -->
  <mat-icon *ngIf="config.icon && !config.suffixIcon" matSuffix class="text-gray-400">
    {{ config.icon }}
  </mat-icon>

  <mat-icon *ngIf="config.suffixIcon" matSuffix class="text-gray-400">
    {{ config.suffixIcon }}
  </mat-icon>

  <!-- Hint -->
  <mat-hint *ngIf="config.hint">{{ config.hint }}</mat-hint>

  <!-- Character count -->
  <mat-hint *ngIf="config.maxLength" align="end">
    {{ value?.length || 0 }}/{{ config.maxLength }}
  </mat-hint>

  <!-- Error display -->
  <mat-error *ngIf="control && control.invalid && control.touched">
    {{ getErrorMessage() }}
  </mat-error>
</mat-form-field>
